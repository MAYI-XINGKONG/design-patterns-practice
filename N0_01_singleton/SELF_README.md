### 回答重点

单例模式 (Singleton)是一种创建型设计模式，它确保一个类在整个程序运行过程中只有一个实例，并提供全局访问点以获取该实例。
单例模式的核心思想是:控制对象的实例化，防止创建多个实例，从而节省资源并保证行为一致性。

### 单例模式的特点

1. 唯一性:类的实例在整个程序生命周期内只存在一个。
2. 全局访问:提供一个全局访问点，让所有代码可以访问同一个实例。
3. 延迟加载:可以延迟实例化，在需要时才创建实例(如使用懒汉式实现)。

### 实现种类

单例模式常见有:饿汉式、懒汉式(线程安全版需要加双重检查锁定)、静态内部类、枚举单例(Java 特有) 等几个实现方式

1. 饿汉式：实例在类加载时就创建，线程安全，但如果实例初始化较重或没有被使用会浪费资源
2. 懒汉式：实例在首次访问时创建，节约资源，但需要确保线程安全
3. 双重检查锁定：在懒汉式的基础上优化，直接加锁效率太低，双重检査锁只在第一次检査实例为空时加锁，提高性能
4. 静态内部类：利用类加载机制实现懒加载和线程安全，推荐使用
5. 枚举单例：通过枚举实现单例，简单且防止反射和序列化攻击

###### 注意

需要保证线程安全

### 常见使用场景

1. 资源管理:需要共享的资源如数据库连接池、线程池等，确保只有一个实例管理这些资源。
2. 全局配置:用于保存程序的配置信息，所有模块都可以访问和使用同一个配置实例。
3. 日志记录器:在多线程或分布式环境中确保日志记录器唯一性。

### 日志记录器示例

在多线程环境中，为了确保所有线程都使用同一个日志记录器实例，使用单例模式来管理日志记录器:

###### 代码

```java
public class Logger {
    private static final Logger instance = new Logger();
    private Logger(){}
    public static Logger getInstance(){
        return instance;
    }
    public void log(string message){
        System.out.println("Log:+ message);
    }
}
```

###### 使用

```java
Logger logger = Logger.getInstance();
logger.log("This is a log message.");
```
